<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dense Network Playground</title>

    <link rel="stylesheet" type="text/css" href="styles/styles.css">
    <link rel="stylesheet" type="text/css" href="styles/inputs.css">

    <link rel="stylesheet" type="text/css" href="styles/playground/menu.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/main_menu.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/icons_menu.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/view.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/train_view.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/data_view.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/experiments_view.css">
    <link rel="stylesheet" type="text/css" href="styles/playground/tabs.css">

    <link rel="stylesheet" type="text/css" href="styles/components/data_plot.css">
    <link rel="stylesheet" type="text/css" href="styles/components/data_table.css">
    <link rel="stylesheet" type="text/css" href="styles/components/model_plot.css">
    <link rel="stylesheet" type="text/css" href="styles/components/metrics_plot.css">
    <link rel="stylesheet" type="text/css" href="styles/components/histograms_plot.css">
    <link rel="stylesheet" type="text/css" href="styles/components/histogram_plot.css">
    <link rel="stylesheet" type="text/css" href="styles/components/extree_table.css">
</head>
<body>
    <div class="playground">
        <div class="menu" id="menu">
            <div class="run-menu">
                <div class="run-menu-button" title="Сброс" onclick="playground.Reset()">
                    <svg width="24px" height="24px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                        <path fill="#222222" d="M27.1 14.313V5.396L24.158 8.34c-2.33-2.325-5.033-3.503-8.11-3.503C9.902 4.837 4.901 9.847 4.899 16c.001 6.152 5.003 11.158 11.15 11.16 4.276 0 9.369-2.227 10.836-8.478l.028-.122h-3.23l-.022.068c-1.078 3.242-4.138 5.421-7.613 5.421a8 8 0 0 1-5.691-2.359A7.993 7.993 0 0 1 8 16.001c0-4.438 3.611-8.049 8.05-8.049 2.069 0 3.638.58 5.924 2.573l-3.792 3.789H27.1z"></path>
                    </svg>
                    <span>Сброс</span>
                </div>

                <div id="stop-btn" class="run-menu-button hidden" title="Остановить обучение модели" onclick="playground.Stop()" disabled>
                    <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 6V18M9 6V18" stroke="#222222" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <span>Стоп</span>
                </div>

                <div id="start-btn" class="run-menu-button" title="Запустить обучение модели" onclick="playground.Start()" disabled>
                    <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 6V18L18 12L8 6Z" fill="#222222" stroke="#222222" stroke-width="1.5" stroke-linejoin="round"></path>
                    </svg>
                    <span>Старт</span>
                </div>

                <div id="step-btn" class="run-menu-button" title="Выполнить один шаг обучения (эпоха)" onclick="playground.Step()" disabled>
                    <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 6V18L15 12L5 6Z" fill="#222222"></path>
                        <path d="M19 6V18M5 18L5 6L15 12L5 18Z" stroke="#222222" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                    </svg>
                    <span>Шаг</span>
                </div>
            </div>

            <div class="main-menu">
                <div id="train-menu">
                    <details class="menu-section" open>
                        <summary>Модель</summary>

                        <div class="menu-block" title="Размерность входного пространства, с которой работает нейронная сеть">
                            <label>Количество входов
                                <input class="basic-input" id="model-inputs-count" type="number" min="1" step="1" value="2" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block" title="Количество полносвязных слоёв, находящихся в нейронной сети">
                            <label>Количество слоёв
                                <input class="basic-input" id="model-layers-count" type="number" min="1" step="1" value="3" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block" title="Количество нейронов, находящихся в каждом слое">
                            <label>Размер слоёв
                                <input class="basic-input" id="model-layers-size" type="number" min="1" step="1" value="10" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block" title="Функция, используемая в качестве активационной в каждом слое кроме последнего">
                            <label>Функция активации
                                <select class="basic-input" id="activation" autocomplete="off">
                                    <option value="relu">ReLU</option>
                                    <option value="leaky-relu">Leaky ReLU</option>
                                    <option value="abs" selected>Abs</option>
                                </select>
                            </label>
                        </div>

                        <div class="menu-block" title="Пороги для выбора классов (значения меньше первого порога считаются классом -1, а выше второго - классом 1)">
                            <label>Пороги доверия</label>

                            <div class="menu-block-grid">
                                <label>
                                    <input class="basic-input" id="threshold-low" type="number" min="-1" max="0" step="0.05" value="-0.1" autocomplete="off">
                                </label>

                                <label>
                                    <input class="basic-input" id="threshold-high" type="number" min="0" max="1" step="0.05" value="0.1" autocomplete="off">
                                </label>
                            </div>
                        </div>

                        <div class="menu-block" title="При использовании этого параметра во время сброса отключенные нейроны остаются выключенными">
                            <label class="switch-checkbox">
                                <input type="checkbox" id="reset-disabled-neurons" checked autocomplete="off">
                                <span class="switch-checkbox-text">Сброс отключ. нейронов</span>
                            </label>
                        </div>

                        <div class="menu-block menu-multiple-block">
                            <label>Управление</label>
                            <div class="menu-block-grid">
                                <input class="file-input" id="model-file-input" type="file" accept=".json" autocomplete="off">
                                <button class="basic-button" id="download-model-btn">Скачать</button>
                                <button class="basic-button" id="upload-model-btn">Загрузить</button>
                            </div>

                            <button class="basic-button" id="remove-disabled-neurons-btn">Удалить отключ. нейроны</button>
                        </div>
                    </details>

                    <details class="menu-section" open>
                        <summary>Параметры обучения</summary>

                        <div class="menu-block">
                            <label>Скорость обучения
                                <input class="basic-input" type="number" id="learning-rate" step="0.00001" min="0" max="10" value="0.0004" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block">
                            <label>Размер батча
                                <input class="basic-input" type="range" id="batch-size" step="1" min="1" max="32" value="16" autocomplete="off">
                            </label>
                            <div id="batch-size-label" class="range-label">16</div>
                        </div>

                        <div class="menu-block">
                            <label>Доля фоновых точек
                                <input class="basic-input" type="range" id="background-part" step="5" min="0" max="500" value="100" autocomplete="off">
                            </label>
                            <div class="range-label"><span id="background-part-label">100</span>%</div>
                        </div>

                        <div class="menu-block">
                            <label>Функция потерь
                                <select class="basic-input" id="criterion" autocomplete="off">
                                    <option value="mse" selected>MSE</option>
                                    <option value="mae">MAE</option>
                                    <option value="logcosh">Logcosh</option>
                                    <option value="huber">Huber</option>
                                </select>
                            </label>
                        </div>

                        <div class="menu-block">
                            <label>Оптимизатор
                                <select class="basic-input" id="optimizer" autocomplete="off">
                                    <option value="sgd">SGD</option>
                                    <option value="momentum-sgd">SGDm</option>
                                    <option value="adam" selected>Adam</option>
                                    <option value="adamax">Adamax</option>
                                    <option value="adadelta">Adadelta</option>
                                    <option value="adagrad">Adagrad</option>
                                    <option value="rmsprop">RMSprop</option>
                                </select>
                            </label>
                        </div>

                        <div class="menu-block menu-multiple-block">
                            <label>Регуляризация
                                <select class="basic-input" id="regularization-type" autocomplete="off">
                                    <option value="">не используется</option>
                                    <option value="l1">L1</option>
                                    <option value="l2" selected>L2</option>
                                </select>
                            </label>

                            <label>Коэффициент регуляризации
                                <input class="basic-input" type="number" id="regularization" step="0.001" min="0" max="10" value="0.001" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block">
                            <label>Отступ компакта (%)
                                <input class="basic-input" type="number" id="compact-offset" step="1" min="-90" value="50" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block">
                            <div class="hidden" id="trainer-model-block">
                                <label>Модель учитель</label>
                                <svg id="trainer-model"></svg>
                                <p class="description">Вместо обучающих данных генерируются случайные точки на компакте, а в качестве выхода используется предсказания модели учителя</p>
                            </div>

                            <button class="basic-button" id="set-trainer-model-btn">Сделать модель учителем</button>
                            <button class="basic-button hidden" id="remove-trainer-model-btn">Удалить модель учителя</button>
                        </div>
                    </details>

                    <details class="menu-section" open>
                        <summary>Параметры отображения</summary>

                        <div class="menu-block">
                            <label>Выход сети
                                <select class="basic-input" id="model-output-mode" autocomplete="off">
                                    <option value="no">не показывать</option>
                                    <option value="continuosly" selected>непрерывно</option>
                                    <option value="discrete">дискретно</option>
                                    <option value="discrete-4">дискретно (4 уровня)</option>
                                    <option value="discrete-10">дискретно (10 уровней)</option>
                                </select>
                            </label>
                        </div>

                        <div id="model-output-block">
                            <div class="menu-block">
                                <label>Количество точек выхода сети
                                    <select class="basic-input" id="model-output-size" autocomplete="off">
                                        <option value="25">25</option>
                                        <option value="50">50</option>
                                        <option value="100" selected>100</option>
                                        <option value="150">150</option>
                                        <option value="max">максимум</option>
                                    </select>
                                </label>
                            </div>

                            <div class="menu-block">
                                <label class="switch-checkbox">
                                    <input type="checkbox" id="plot-model-surface" autocomplete="off">
                                    <span class="switch-checkbox-text">Выход сети в 3D</span>
                                </label>
                            </div>
                        </div>

                        <div class="menu-block">
                            <label>Отображать в связях:
                                <select class="basic-input" id="model-weights-mode" autocomplete="off">
                                    <option value="weights" selected>весовые коэффициенты</option>
                                    <option value="grads">градиенты</option>
                                </select>
                            </label>
                        </div>

                        <div class="menu-block">
                            <label>Показать ячейки на слое
                                <select class="basic-input" id="cells-layer" autocomplete="off">
                                    <option value="no">не показывать</option>
                                    <option value="-1">все</option>
                                    <option value="0">1</option>
                                    <option value="1">2</option>
                                    <option value="2" selected>3</option>
                                </select>
                            </label>
                        </div>

                        <div id="data-block">
                            <div class="menu-block menu-multiple-block">
                                <label>Отображать</label>
                                <label class="switch-checkbox">
                                    <input type="checkbox" id="plot-train-data" checked autocomplete="off">
                                    <span class="switch-checkbox-text">обучающие точки</span>
                                </label>

                                <label class="switch-checkbox">
                                    <input type="checkbox" id="plot-test-data" autocomplete="off">
                                    <span class="switch-checkbox-text">тестовые точки</span>
                                </label>

                                <label class="switch-checkbox">
                                    <input type="checkbox" id="plot-background-data" autocomplete="off">
                                    <span class="switch-checkbox-text">фоновые точки</span>
                                </label>

                                <label class="switch-checkbox">
                                    <input type="checkbox" id="plot-grid" checked autocomplete="off">
                                    <span class="switch-checkbox-text">сетку</span>
                                </label>
                            </div>
                        </div>

                        <div class="menu-block">
                            <label>Проекционные координаты</label>
                            <div class="menu-block-grid">
                                <div>
                                    <label>Ось Х:
                                        <select class="basic-input" id="axis-x" autocomplete="off">
                                            <option value="0" selected>x₁</option>
                                            <option value="1">x₂</option>
                                        </select>
                                    </label>
                                </div>

                                <div>
                                    <label>Ось Y:
                                        <select class="basic-input" id="axis-y" autocomplete="off">
                                            <option value="0">x₁</option>
                                            <option value="1" selected>x₂</option>
                                        </select>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>

                <div id="data-menu">
                    <details class="menu-section" open>
                        <summary>Генератор данных</summary>

                        <div id="data-generators"></div>

                        <div class="menu-block">
                            <label>Количество данных
                                <input class="basic-input" type="number" id="data-count" step="1" min="10" max="10000" value="2000">
                            </label>
                        </div>

                        <div class="menu-block">
                             <label>Баланс классов
                                <input class="basic-input" type="range" id="data-balance" step="1" min="0" max="100" value="50" autocomplete="off">
                            </label>
                            <div class="range-label"><span id="data-balance-label">50</span>%</div>
                        </div>

                        <div class="menu-block">
                             <label>Доля тестовых данных
                                <input class="basic-input" type="range" id="data-test-part" step="5" min="0" max="95" value="50" autocomplete="off">
                            </label>
                            <div class="range-label"><span id="data-test-part-label">50</span>%</div>
                        </div>

                        <div class="menu-block">
                             <label>Ошибка
                                <input class="basic-input" type="range" id="data-error" step="1" min="0" max="50" value="0" autocomplete="off">
                            </label>
                            <div class="range-label"><span id="data-error-label">0</span>%</div>
                        </div>

                        <div class="menu-block menu-multiple-block">
                            <label class="switch-checkbox">
                                <input type="checkbox" id="data-unary" autocomplete="off">
                                <span class="switch-checkbox-text">объединять в один класс</span>
                            </label>

                            <div class="description">Все метки сгенерированных данных заменяются на 1</div>
                        </div>

                        <div class="menu-block menu-block-grid">
                            <button class="basic-button" id="data-generate-btn">Создать</button>
                            <button class="basic-button" id="data-add-btn">Добавить</button>
                        </div>
                    </details>

                    <details class="menu-section" open>
                        <summary>Загрузка из файла</summary>

                        <div class="menu-block menu-multiple-block">
                            <label>Обучающие данные</label>
                            <input class="file-input" id="train-file-input" type="file" accept=".csv" autocomplete="off">
                            <button class="basic-button" id="train-file-input-btn">Выберите файл</button>
                            <span class="file-input-label" id="train-file-input-label">файл не выбран</span>
                        </div>

                        <div class="menu-block menu-multiple-block">
                            <label>Тестовые данные</label>
                            <input class="file-input" id="test-file-input" type="file" accept=".csv" autocomplete="off">
                            <button class="basic-button" id="test-file-input-btn">Выберите файл</button>
                            <span class="file-input-label" id="test-file-input-label">файл не выбран</span>
                        </div>

                        <div class="menu-block menu-block-grid hidden" id="upload-data-block">
                            <button class="basic-button" id="reset-upload-data-btn">Отменить</button>
                            <button class="basic-button" id="upload-data-btn">Загрузить</button>
                        </div>
                    </details>

                    <div id="data-control-block">
                        <details class="menu-section" open>
                            <summary>Модификации</summary>

                            <div class="menu-block menu-multiple-block">
                                <label>Режим нормализации
                                    <select class="basic-input" id="data-normalization-mode" autocomplete="off">
                                        <option value="min-max">min &rarr; 0, max &rarr; 1</option>
                                        <option value="mean-std" selected>&mu; &rarr; 0, &sigma; &rarr; 1</option>
                                    </select>
                                </label>

                                <button class="basic-button" id="normalize-data-btn">Нормализовать</button>
                            </div>
                        </details>

                        <div class="menu-block menu-block-grid">
                            <button class="basic-button" id="download-data-btn">Скачать</button>
                            <button class="basic-button" id="clear-data-btn">Очистить</button>
                        </div>
                    </div>
                </div>

                <div id="experiments-menu">
                    <details class="menu-section" open>
                        <summary>Синтетические данные</summary>

                        <div class="menu-block">
                            <label>Количество фоновых точек
                                <input class="basic-input" type="number" id="synthetic-data-background-count" step="1" min="10" max="1000000" value="5000" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block">
                            <button class="basic-button" id="synthetic-data-generate-btn">Сгенерировать</button>
                        </div>
                    </details>

                    <details class="menu-section" open>
                        <summary>Объясняющее дерево</summary>

                        <div class="menu-block">
                            <label>Количество фоновых точек
                                <input class="basic-input" type="number" id="tree-background-count" step="1" min="0" max="1000000" value="5000" autocomplete="off">
                            </label>
                        </div>

                        <div class="menu-block">
                            <label class="switch-checkbox">
                                <input type="checkbox" id="tree-build-3d-histogram" autocomplete="off">
                                <span class="switch-checkbox-text">Строить 3D гистограмму h<sub>n</sub></span>
                            </label>
                        </div>

                        <div class="menu-block">
                            <button class="basic-button" id="tree-experiment-btn">Построить</button>
                        </div>
                    </details>
                </div>
            </div>

            <div class="icons-menu">
                <div class="icons-block" id="train-icons-menu">
                    <div class="parameter-icon" title="Размеры наборов данных (тренировочный / тестовый)">
                        <div><img src="icons/data.svg"></div>
                        <span id="train-dataset-value">5000</span><hr><span id="test-dataset-value">5000</span></span>
                    </div>

                    <div class="parameter-icon" title="Пороги классификации">
                        <div><img src="icons/thresholds.svg"></div>
                        <span id="threshold-low-value">-0.1</span><hr><span id="threshold-high-value">0.1</span>
                    </div>

                    <div class="parameter-icon" title="Скорость обучения">
                        <div>η</div>
                        <span id="learning-rate-value">0.004</span>
                    </div>

                    <div class="parameter-icon" title="Размер батча">
                        <div><img src="icons/batch.svg"></div>
                        <span id="batch-size-value">16</span>
                    </div>

                    <div class="parameter-icon" title="Доля фоновых точек">
                        <div><img src="icons/background.svg"></div>
                        <span id="background-part-value">100</span>%
                    </div>

                    <div class="parameter-icon" title="Функция потерь">
                        <div>L</div>
                        <span id="criterion-value">MSE</span>
                    </div>

                    <div class="parameter-icon" title="Оптимизатор (алгоритм градиентного спуска)">
                        <div><img src="icons/optimizer.svg"></div>
                        <span id="optimizer-value">Adam</span>
                    </div>

                    <div class="parameter-icon hidden" title="L1 регуляризация">
                        <div><img src="icons/l1.svg"></div>
                        <span id="regularization-l1-value">0.001</span>
                    </div>

                    <div class="parameter-icon" title="L2 регуляризация">
                        <div><img src="icons/l2.svg"></div>
                        <span id="regularization-l2-value">0.001</span>
                    </div>
                </div>

                <div class="icons-block" id="data-icons-menu">
                    <div class="parameter-icon parameter-icon-interactive" title="Удалить данные" onclick="playground.ClearData()">
                        <div>
                            <svg fill="#222222" width="24px" height="24px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M2.75 6.16667C2.75 5.70644 3.09538 5.33335 3.52143 5.33335L6.18567 5.3329C6.71502 5.31841 7.18202 4.95482 7.36214 4.41691C7.36688 4.40277 7.37232 4.38532 7.39185 4.32203L7.50665 3.94993C7.5769 3.72179 7.6381 3.52303 7.72375 3.34536C8.06209 2.64349 8.68808 2.1561 9.41147 2.03132C9.59457 1.99973 9.78848 1.99987 10.0111 2.00002H13.4891C13.7117 1.99987 13.9056 1.99973 14.0887 2.03132C14.8121 2.1561 15.4381 2.64349 15.7764 3.34536C15.8621 3.52303 15.9233 3.72179 15.9935 3.94993L16.1083 4.32203C16.1279 4.38532 16.1333 4.40277 16.138 4.41691C16.3182 4.95482 16.8778 5.31886 17.4071 5.33335H19.9786C20.4046 5.33335 20.75 5.70644 20.75 6.16667C20.75 6.62691 20.4046 7 19.9786 7H3.52143C3.09538 7 2.75 6.62691 2.75 6.16667Z" />
                                <path d="M11.6068 21.9998H12.3937C15.1012 21.9998 16.4549 21.9998 17.3351 21.1366C18.2153 20.2734 18.3054 18.8575 18.4855 16.0256L18.745 11.945C18.8427 10.4085 18.8916 9.6402 18.45 9.15335C18.0084 8.6665 17.2628 8.6665 15.7714 8.6665H8.22905C6.73771 8.6665 5.99204 8.6665 5.55047 9.15335C5.10891 9.6402 5.15777 10.4085 5.25549 11.945L5.515 16.0256C5.6951 18.8575 5.78515 20.2734 6.66534 21.1366C7.54553 21.9998 8.89927 21.9998 11.6068 21.9998Z" />
                            </svg>
                        </div>
                        <span>удалить</span>
                    </div>

                    <div class="parameter-icon parameter-icon-interactive" title="Скачать данные" onclick="playground.DownloadDataset()">
                        <div>
                            <svg fill="#222222" height="24px" width="24px" viewBox="-20 -20 397.576 397.576" xmlns="http://www.w3.org/2000/svg">
                                <path d="M300.807,88.652l-94.235-77.447C198.809,4.817,185.218,0,174.958,0h-108.5C53.223,0,42.456,10.602,42.456,23.636
                                    c0.002,3.121,0.168,312.155,0.168,313.775c0,11.805,8.258,20.05,20.082,20.05c7.5,0,229.139,0.115,229.139,0.115
                                    c12.835,0,23.276-10.726,23.276-23.909V119.673C315.121,108.7,308.967,95.364,300.807,88.652z M66.444,1c0.005,0,0.009,0,0.014,0h0
                                    C66.454,1,66.449,1,66.444,1z M239.589,235.915l-54.232,77.407c-1.551,2.213-3.88,3.482-6.391,3.482c-2.51,0-4.839-1.27-6.39-3.482
                                    l-54.227-77.402c-1.684-2.402-1.978-5.09-0.787-7.378c1.191-2.289,3.653-3.542,6.587-3.542h31.971v-76.735
                                    c0-4.963,4.078-9.265,9.041-9.265h27.622c4.963,0,9.337,4.302,9.337,9.265V225h31.668c2.933,0,5.395,1.251,6.586,3.539
                                    C241.565,230.827,241.272,233.513,239.589,235.915z M206.009,113c-14.743,0-15.889-12.578-15.889-16.433V30.963L293.601,113H206.009
                                    z"/>
                            </svg>
                        </div>
                        <span>скачать</span>
                    </div>
                </div>

                <div class="icons-block" id="experiments-icons-menu">
                    <div class="parameter-icon parameter-icon-interactive" title="Запустить эксперимент с объясняющим деревом" onclick="playground.RunSyntheticDataExperiment()">
                        <div>
                            <svg width="24px" height="24px" viewBox="0 0 1024 1024" fill="#222222" xmlns="http://www.w3.org/2000/svg">
                                <path d="M659.171806 179.030837a123.432599 123.432599 0 0 1-70.907489 12.687225l-38.907489 38.907489 24.810573 21.286343c143.929515 14.237885 245.286344 75.700441 245.286343 131.38326 0 39.753304-51.735683 82.46696-133.497797 108.828194-21.427313 19.171806-49.480176 31.295154-80.352423 31.859031l-60.334802 58.643172c-0.140969 6.484581-0.845815 12.687225-1.973568 18.889868 99.38326-4.088106 186.361233-26.784141 249.797357-62.590309 1.409692 2.255507 2.960352 4.370044 4.792952 6.343612 14.237885 15.365639 21.568282 30.872247 21.568281 45.955948 0 63.436123-131.524229 134.343612-307.594713 134.343612S204.405286 654.378855 204.405286 590.942731c0-14.378855 6.625551-29.180617 19.594714-43.841409 2.396476-2.819383 4.370044-5.779736 5.920705-9.022027 20.017621 11.418502 42.713656 21.286344 67.242291 30.026432 2.960352-30.30837 16.9163-57.374449 37.638766-77.392071C254.731278 464.352423 204.405286 422.202643 204.405286 383.013216c0-34.537445 39.330396-71.330396 103.471366-97.69163a122.544493 122.544493 0 0 1-11.418502-51.876652c0-13.110132 2.114537-25.656388 5.779735-37.497797C191.013216 233.867841 119.823789 301.955947 119.823789 383.013216V804.933921c0 124.898678 168.599119 218.92511 392.176211 218.92511s392.176211-94.167401 392.176211-218.92511V383.013216c0-95.436123-98.678414-172.828194-245.004405-203.982379zM512 939.418502C335.929515 939.418502 204.405286 868.511013 204.405286 805.07489c0-14.378855 6.625551-29.180617 19.594714-43.84141 3.665198-4.229075 6.343612-8.881057 8.176211-13.955947 70.061674 39.189427 168.176211 62.590308 279.823789 62.590308 111.22467 0 208.77533-23.259912 278.837004-62.026431 1.832599 3.947137 4.088106 7.753304 7.189428 11.136564 14.237885 15.365639 21.568282 30.872247 21.568282 45.955947 0 63.577093-131.524229 134.484581-307.594714 134.484581zM603.066079 331.277533c-6.76652 0-13.110132 1.268722-19.171806 3.101322l-97.409692-83.594714c1.409692-5.497797 2.396476-11.136564 2.396476-17.198238 0-6.76652-1.268722-13.110132-3.101321-19.171806l86.132158-86.132159c9.444934 4.933921 19.876652 7.894273 31.154185 7.894273a68.229075 68.229075 0 0 0 68.088106-68.088105A68.229075 68.229075 0 0 0 603.066079 0a68.229075 68.229075 0 0 0-68.088105 68.088106c0 1.268722 0.281938 2.396476 0.422907 3.524229l-96.563877 96.563876c-5.779736-1.550661-11.700441-2.678414-17.903083-2.678414-37.497797 0-68.088106 30.590308-68.088106 68.088106s30.590308 68.088106 68.088106 68.088106c6.907489 0 13.53304-1.409692 19.876652-3.242291l96.845815 83.171806c-1.550661 5.638767-2.678414 11.559471-2.678414 17.762115 0 6.76652 1.268722 13.251101 3.24229 19.453744l-98.960352 96.281939c-5.920705-1.69163-11.982379-2.819383-18.325991-2.819384-37.497797 0-68.088106 30.590308-68.088106 68.088106S383.436123 648.45815 420.933921 648.45815a68.229075 68.229075 0 0 0 68.088105-68.088106c0-6.625551-1.268722-12.828194-2.960352-18.748899l99.38326-96.704845c5.638767 1.550661 11.559471 2.678414 17.621145 2.678414a68.15859 68.15859 0 0 0 0-136.317181z m0.140969-285.885463a22.681938 22.681938 0 1 1 0 45.392071 22.681938 22.681938 0 1 1 0-45.392071zM421.07489 256.281938a22.681938 22.681938 0 1 1 0-45.39207 22.681938 22.681938 0 1 1 0 45.39207z m0 346.502203a22.681938 22.681938 0 1 1 0-45.392071 22.681938 22.681938 0 1 1 0 45.392071z m182.132158-180.722467a22.681938 22.681938 0 1 1 0-45.39207 22.681938 22.681938 0 1 1 0 45.39207z" />
                            </svg>
                            </div>
                        <span>синтет. данные</span>
                    </div>

                    <div class="parameter-icon parameter-icon-interactive" title="Запустить эксперимент с объясняющим деревом" onclick="playground.RunTreeExperiment()">
                        <div>
                            <svg fill="#222222" height="24px" width="24px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                <path d="M465.771,234.587c0-26.914-10.749-51.289-28.142-69.166c0.629-4.688,1.075-9.437,1.075-14.301
                                    c0-54.151-40.625-98.726-93.05-105.14C319.308,17.754,281.874,0,240.206,0C160.476,0,95.853,64.624,95.853,144.361
                                    c0,0.422,0.062,0.821,0.062,1.236c-29.975,20.27-49.686,54.58-49.686,93.494c0,53.346,37.08,97.937,86.842,109.667
                                    c10.089,24.69,34.318,42.106,62.636,42.106c10.557,0,20.508-2.486,29.407-6.798V512h77.528v-83.988l30.236-51.657
                                    c30.95-2.256,57.097-21.766,68.743-49.033C439.087,313.128,465.771,277.022,465.771,234.587z M260.615,342.229
                                    c0.66,0.928,1.343,1.826,2.041,2.724l-3.43,1.396C259.725,344.984,260.208,343.625,260.615,342.229z M284.874,405.402v-40.579
                                    c7.181,4.366,15.076,7.642,23.492,9.622L284.874,405.402z"/>
                            </svg>
                        </div>
                        <span>объясн. дерево</span>
                    </div>
                </div>
            </div>

            <div class="toggle-menu" onclick="playground.ToggleMenu()">
                <div class="ham"></div>
                <span>Свернуть меню</span>
            </div>
        </div>

        <div class="view">
            <div class="tab">
                <div class="tab-nav">
                    <label id="tab-train-label" for="tab-train-input">Обучение</label>
                    <label id="tab-data-label" for="tab-data-input">Данные</label>
                    <label id="tab-experiments-label" for="tab-experiments-input">Эксперименты</label>
                </div>

                <div class="tab-contents">
                    <input id="tab-train-input" type="radio" name="tab-input" autocomplete="off" checked>
                    <div class="tab-content" id="tab-train">
                        <div class="data-plot" id="data-plot" oncontextmenu="return false;">
                            <canvas id="model-view"></canvas>
                            <svg id="data-view"></svg>
                        </div>

                        <div class="surface-plot hidden" id="model-surface"></div>

                        <div class="histograms-plot">
                            <svg id="histograms-plot"></svg>
                        </div>

                        <div class="model-plot" id="model-plot" oncontextmenu="return false;">
                            <svg></svg>
                        </div>

                        <div class="metrics-plot" id="metrics-plot"></div>
                    </div>

                    <input id="tab-data-input" type="radio" name="tab-input" autocomplete="off">
                    <div class="tab-content" id="tab-data">
                        <div class="data-table" id="data-table"></div>
                    </div>

                    <input id="tab-experiments-input" type="radio" name="tab-input" autocomplete="off">
                    <div class="tab-content" id="tab-experiments">
                        <!-- TODO -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/constants.js"></script>

    <script src="js/libs/plotly-3.0.0.min.js"></script>

    <!-- UTILS -->
    <script src="js/utils/random.js"></script>
    <script src="js/utils/utils.js"></script>
    <script src="js/utils/csv_reader.js"></script>
    <script src="js/utils/cells_extractor.js"></script>

    <!-- ENTITIES -->
    <script src="js/entities/event_emitter.js"></script>
    <script src="js/entities/data.js"></script>
    <script src="js/entities/compact.js"></script>
    <script src="js/entities/thresholds.js"></script>
    <script src="js/entities/view_box.js"></script>
    <script src="js/entities/metrics.js"></script>
    <script src="js/entities/model_manager.js"></script>
    <script src="js/entities/extree.js"></script>

    <!-- DATA -->
    <script src="js/data/data_generator.js"></script>
    <script src="js/data/point2d_data_generator.js"></script>
    <script src="js/data/multivariate_data_generator.js"></script>
    <script src="js/data/dataset.js"></script>
    <script src="js/data/data_generator_ui.js"></script>

    <!-- MODEL -->
    <script src="js/model/fully_connected_layer.js"></script>
    <script src="js/model/loss.js"></script>
    <script src="js/model/optimizer.js"></script>
    <script src="js/model/network.js"></script>

    <!-- PLOT -->
    <script src="js/view/layers/compact_layer.js"></script>
    <script src="js/view/layers/data_layer.js"></script>
    <script src="js/view/layers/labels_layer.js"></script>
    <script src="js/view/layers/grid_layer.js"></script>
    <script src="js/view/layers/model_output_layer.js"></script>
    <script src="js/view/layers/model_architecture_layer.js"></script>

    <script src="js/view/data_plot.js"></script>
    <script src="js/view/data_table.js"></script>
    <script src="js/view/model_plot.js"></script>
    <script src="js/view/metrics_plot.js"></script>
    <script src="js/view/histograms_plot.js"></script>
    <script src="js/view/histogram_plot.js"></script>
    <script src="js/view/extree_table.js"></script>
    <script src="js/view/model_cells_plot.js"></script>
    <script src="js/view/cells_plot.js"></script>

    <!-- VISUALIZER -->
    <script src="js/visualizer.js"></script>
    <script src="js/visualizer/events.js"></script>
    <script src="js/visualizer/ui.js"></script>
    <script src="js/visualizer/train.js"></script>
    <script src="js/visualizer/experiments.js"></script>

    <!-- INPUTS -->
    <script src="js/inputs/number_input.js"></script>
    <script src="js/inputs/range_input.js"></script>
    <script src="js/inputs/file_input.js"></script>
    <script src="js/inputs/vector_input.js"></script>
    <script src="js/inputs/matrix_input.js"></script>

    <!-- EXPERIMENTS -->
    <script src="js/experiments/synthetic_data_experiment.js"></script>
    <script src="js/experiments/tree_experiment.js"></script>

    <!-- PLAYGROUND -->
    <script src="js/playground.js"></script>
    <script src="js/playground/ui.js"></script>
    <script src="js/playground/events.js"></script>
    <script src="js/playground/experiments.js"></script>

    <script>
        let playground = new Playground()

        playground.GenerateData()
        playground.Run()
    </script>
</body>
</html>
